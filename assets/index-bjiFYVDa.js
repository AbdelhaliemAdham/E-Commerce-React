import{r as a,j as e,a as T}from"./react-CzIOGmIS.js";import{c as Z}from"./react-dom-Cub7iacf.js";import"./firebase-JU3Ea-5a.js";import{i as X,g as ee,s as te,a as se,c as ne}from"./@firebase-DM_Pr6-R.js";import{u as re,a as ae,P as oe,l as ce,E as ie}from"./@stripe-DDQUYpRN.js";import{u as P,L as x,a as F,b as le,N as v,O as de,c as ue,d as me,R as he}from"./react-router-DeE-zfuN.js";import{s as pe,B as ge,b as xe,I as M,S as fe,a as je,L as be,R as _e,G as ye}from"./@mui-0mkYdo9-.js";import{m as A,A as Ce}from"./motion-t0pHMZZb.js";/* empty css                  */import{H as I}from"./react-helmet-BPB1eKlB.js";import{C as ve,a as U,R as Se,B as Ne,b as we,c as Pe}from"./react-bootstrap-WBwLgiZI.js";import{u as G}from"./react-hook-form-C4T5PGcW.js";import"./scheduler-vn6Di64w.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";import"./prop-types-CbgaPgTO.js";import"./cookie--_YQFYBD.js";import"./clsx-B-dksMZM.js";import"./@emotion-1cIi3KXN.js";import"./hoist-non-react-statics-C48UpQYE.js";import"./react-is-CnyDuYXe.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-DOfOlkhD.js";import"./react-side-effect-WOlpnzvY.js";import"./react-fast-compare-C7OZEcdL.js";import"./object-assign-BEvZN01a.js";import"./classnames-eObjMc0i.js";import"./@restart-DjHDCP0R.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();const ke={apiKey:"AIzaSyAfVZrfx39vOmqIi9Q2pT1E65eWMYyHSUQ",authDomain:"react-backend-6a385.firebaseapp.com",databaseURL:"https://react-backend-6a385-default-rtdb.firebaseio.com",projectId:"react-backend-6a385",storageBucket:"react-backend-6a385.firebasestorage.app",messagingSenderId:"295678082664",appId:"1:295678082664:web:bbdd584f03babca23985dd"},Ee=X(ke),R=ee(Ee),b=a.createContext(),Ie=({children:t})=>{const[s,n]=a.useState(null),[r,o]=a.useState(!0);return a.useEffect(()=>{const c=R.onAuthStateChanged(i=>{n(i),o(!1)});return()=>c()},[]),e.jsx(b.Provider,{value:{user:s,isLoading:r},children:t})},Le="modulepreload",Te=function(t){return"/E-Commerce-React/"+t},Q={},Ae=function(s,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(d=>{if(d=Te(d),d in Q)return;Q[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const u=document.createElement("link");if(u.rel=h?"stylesheet":Le,h||(u.as="script"),u.crossOrigin="",u.href=d,l&&u.setAttribute("nonce",l),document.head.appendChild(u),h)return new Promise((p,g)=>{u.addEventListener("load",p),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function c(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&c(l.reason);return s().catch(c)})},$e="/E-Commerce-React/assets/react-CHdo91hT.svg",H=T.createContext({searchProduct:"",setSearchProducts:t=>{}}),W=()=>a.useContext(H);function Re({children:t}){const[s,n]=a.useState("");return e.jsx(H.Provider,{value:{searchProduct:s,setSearchProducts:n},children:t})}const Be="_form_si98z_1",qe="_input_si98z_11",De="_button_si98z_29",O={form:Be,input:qe,button:De};function Oe(){const{searchProduct:t,setSearchProducts:s}=W(),n=P(),r=c=>{const i=c.target.value;s(i)};function o(){t.trim()!==""&&n(`/allProducts?search=${encodeURIComponent(t)}`)}return e.jsxs("form",{className:O.form,role:"search",onSubmit:c=>c.preventDefault(),children:[e.jsx("input",{className:O.input,type:"search",placeholder:"Search",value:t,onChange:r,"aria-label":"Search"}),e.jsx("button",{onClick:o,className:O.button,type:"button",children:"Search"})]})}const _=T.createContext({darkMode:!0,toggleTheme:()=>{}});function ze({children:t}){const[s,n]=a.useState(!0);function r(){n(o=>!o)}return e.jsx(_.Provider,{value:{darkMode:s,toggleTheme:r},children:t})}const B=a.createContext(),Fe={cartItems:[]},Me=(t,s)=>{switch(s.type){case"ADD_TO_CART":return t.cartItems.find(r=>r.id===s.payload.id)?{...t,cartItems:t.cartItems.map(r=>r.id===s.payload.id?{...r,quantity:r.quantity+1}:r)}:{...t,cartItems:[...t.cartItems,{...s.payload,quantity:1}]};case"REMOVE_FROM_CART":return{...t,cartItems:t.cartItems.filter(r=>r.id!==s.payload)};case"UPDATE_QUANTITY":return{...t,cartItems:t.cartItems.map(r=>r.id===s.payload.id?{...r,quantity:s.payload.quantity}:r)};case"CLEAR_CART":return{...t,cartItems:[]};default:return t}},Ue=({children:t})=>{const[s,n]=a.useReducer(Me,Fe),r=l=>{n({type:"ADD_TO_CART",payload:l})},o=l=>{n({type:"REMOVE_FROM_CART",payload:l})},c=(l,d)=>{n({type:"UPDATE_QUANTITY",payload:{id:l,quantity:d}})},i=()=>{n({type:"CLEAR_CART"})};return e.jsx(B.Provider,{value:{cartItems:s.cartItems,addToCart:r,removeFromCart:o,updateQuantity:c,clearCart:i},children:t})},Qe=pe(ge)`
  & .${xe.badge} {
    top: -12px;
    right: -6px;
  }
`;function Ge({numberOfItems:t}){return e.jsxs(M,{children:[e.jsx(fe,{color:"info",fontSize:"small"}),e.jsx(Qe,{badgeContent:t,color:"primary",overlap:"circular"})]})}async function He(t,s){try{await se(R,t,s)}catch(n){throw console.error("failed to login",n.message),n}}async function We(t,s){try{await ne(R,t,s)}catch(n){throw console.error("failed to register",n.message),n}}async function Ye(){try{await te(R)}catch(t){throw t}}function S(){const{darkMode:t,toggleTheme:s}=a.useContext(_),{cartItems:n}=a.useContext(B),r=t?"navbar navbar-expand-lg bg-dark border-bottom border-body":"navbar navbar-expand-lg bg-body-tertiary",o=t?"dark":"light";return e.jsx("nav",{className:r,"data-bs-theme":o,children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("img",{src:$e,alt:"logo"}),e.jsx("a",{className:"navbar-brand m-1",href:"/",children:e.jsx("span",{className:`badge ${t?"text-light":"text-dark"} p-2`,children:"E-Commerce"})}),e.jsxs("div",{className:"collapse navbar-collapse mt-2",id:"navbarSupportedContent",children:[e.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[e.jsx("li",{className:"nav-item",children:e.jsx(x,{className:"nav-link active bg-blue","aria-current":"page",to:"/",children:"Home"})}),e.jsx("li",{className:"nav-item",children:e.jsx(x,{className:"nav-link",to:"/AllProducts",children:"Products"})}),e.jsx("li",{className:"nav-item",children:e.jsx(x,{className:"nav-link",to:"/categories",children:"Categories"})}),e.jsx("li",{className:"nav-item",children:e.jsx(x,{className:"nav-link",to:"/about",children:"about"})}),e.jsx(A.li,{className:"nav-item",children:e.jsx(x,{className:"nav-link",to:"/cart",children:e.jsx(Ge,{numberOfItems:n.length})})})]}),e.jsx(Oe,{}),e.jsxs("p",{style:{color:t?"white":"black",fontWeight:"bold",display:"flex",flexDirection:"row",position:"relative",marginLeft:"10px",top:"8px",right:"10px",alignItems:"center",justifyContent:"center"},children:[t?"Light":"Dark",e.jsx(je,{onChange:s,checked:t,title:"Theme",value:t}),e.jsxs(M,{onClick:Ye,children:[" ",e.jsx(be,{color:"primary"})," "]})]})]})]})})}const Ke="_banner_1q04i_25",Ve="_dark_1q04i_35",Je="_light_1q04i_47",Ze="_container_1q04i_59",Xe="_textCenter_1q04i_77",et="_title_1q04i_89",tt="_titleLarge_1q04i_105",st="_paragraph_1q04i_113",nt="_buttonContainer_1q04i_125",rt="_buttonPrimary_1q04i_147",at="_buttonPrimaryDark_1q04i_183",ot="_buttonSecondary_1q04i_223",f={banner:Ke,dark:Ve,light:Je,container:Ze,textCenter:Xe,title:et,titleLarge:tt,paragraph:st,buttonContainer:nt,buttonPrimary:rt,buttonPrimaryDark:at,buttonSecondary:ot};function ct(){const{darkMode:t}=a.useContext(_),[s,n]=a.useState(!1);return a.useEffect(()=>{n(!!t)},[t]),e.jsx("section",{className:s?f.dark:f.light,children:e.jsx("div",{className:f.container,children:e.jsxs("div",{className:f.textCenter,children:[e.jsxs("h1",{className:`${f.title} ${f.titleLarge}`,children:["Browse All Products.",e.jsx("span",{className:"sm:block",children:" Try our new collection"})]}),e.jsx("p",{className:f.paragraph,children:"Our New Collection is here. Check out our new products and get 20% off on your first purchase. Hurry up! Limited time offer."}),e.jsx("div",{className:f.buttonContainer,children:e.jsx(x,{className:s?f.buttonPrimaryDark:f.buttonPrimary,to:"/allProducts",children:"Get Started"})})]})})})}function q(){return e.jsx("div",{className:"spinner-border text-dark position-absolute top-50 start-50",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}function it(){const{user:t,isLoading:s}=a.useContext(b);return s?e.jsx(q,{}):t?e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx(ct,{})]}):e.jsx(Navigate,{to:"/login"})}const lt="_card_8vuhd_1",dt="_cardImg_8vuhd_37",ut="_cardBody_8vuhd_57",mt="_cardTitle_8vuhd_73",ht="_cardPrice_8vuhd_85",pt="_cardDescription_8vuhd_111",gt="_cardButton_8vuhd_125",N={card:lt,cardImg:dt,cardBody:ut,cardTitle:mt,cardPrice:ht,cardDescription:pt,cardButton:gt};function xt(){const[t,s]=T.useState(1),[n,r]=T.useState(!1);return e.jsx(_e,{style:{margin:"0.4rem"},name:"simple-controlled",value:t,disabled:n,onChange:(o,c)=>{s(c),r(!0)}})}const Y=({image:t,title:s,price:n,id:r})=>{const{addToCart:o}=a.useContext(B),c=P();function i(d){d.stopPropagation(),console.log("Adding to cart:",r),o({image:t,title:s,price:n,id:r})}function l(){c(`/allProducts/${r}`)}return e.jsxs(A.div,{onClick:l,className:N.card,children:[e.jsx(A.img,{drag:!0,whileDrag:{rotate:360},src:t,className:N.cardImg,alt:s}),e.jsxs("p",{className:N.cardPrice,children:["$",n]}),e.jsxs("div",{className:N.cardBody,children:[e.jsx("h5",{className:N.cardTitle,children:s}),e.jsx(xt,{}),e.jsx("button",{onClick:i,className:N.cardButton,children:"Add to Cart"})]})]})},ft="_dark_1fm75_7",jt="_light_1fm75_17",bt="_paragraph_1fm75_25",_t={dark:ft,light:jt,paragraph:bt},yt="_container_zxxa7_5",Ct="_title_zxxa7_27",vt="_message_zxxa7_39",St="_homeLink_zxxa7_49",L={container:yt,title:Ct,message:vt,homeLink:St};function Nt(){return e.jsxs("div",{className:L.container,children:[e.jsx("h1",{className:L.title,children:"404 - Not Found"}),e.jsx("p",{className:L.message,children:"Sorry, the page you are looking for does not exist."}),e.jsx(x,{to:"/",className:L.homeLink,children:"Go to Home"})]})}const wt=({searchQuery:t})=>e.jsxs("div",{className:"product-not-found",children:[e.jsx("h2",{children:"Oops! No Products Found"}),e.jsx("p",{children:"We couldn't find any products matching."}),e.jsx("p",{children:"Please try a different search term or check out our other products."}),e.jsx("button",{children:e.jsx(x,{to:"/allProducts",children:" Browse All Products"})})]});function Pt(){const{setSearchProducts:t}=W(),s=F(),n=le(),[r,o]=a.useState(s),[c,i]=a.useState(!0),{darkMode:l}=a.useContext(_),{user:d,isLoading:h}=a.useContext(b),[m,u]=a.useState(!0);if(a.useEffect(()=>{if(d===null&&!h){u(!1);return}const y=new URLSearchParams(n.search).get("search")||"";if(t(y),s){i(!1);const D=s.filter(J=>J.title.toLowerCase().includes(y.toLowerCase()));o(D)}},[s,n.search,t]),!m)return e.jsx(v,{to:"/login"});if(c)return e.jsx(q,{});if(r.length===0)return e.jsx(wt,{});const p=l?"dark":"light";return e.jsxs("div",{className:_t[p],children:[e.jsx(I,{children:e.jsx("title",{children:"All Products"})}),e.jsx(S,{}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"20px"},children:r.map(g=>e.jsx(Y,{...g},g.id))}),e.jsx(de,{})," "]})}async function kt(){const t=await fetch("https://fakestoreapi.com/products");if(!t.ok)throw Error("failed to fetch product");return await t.json()}const Et="_aboutContainer_1sybj_1",It="_cardImage_1sybj_9",Lt="_aboutTitle_1sybj_23",Tt="_aboutSubTitle_1sybj_39",At="_contactButton_1sybj_47",k={aboutContainer:Et,cardImage:It,aboutTitle:Lt,aboutSubTitle:Tt,contactButton:At},$t="/E-Commerce-React/assets/abdo-D6_nfMGy.png";function Rt(){const{darkMode:t}=a.useContext(_);a.useEffect(()=>{t?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[t]);function s(){window.location.href="http://github.com/AbdelhaliemAdham"}return e.jsx(ve,{className:k.aboutContainer,children:e.jsxs(U,{children:[e.jsx("h1",{className:k.aboutTitle,children:"About Me"}),e.jsxs(Se,{children:[e.jsxs(U,{children:[e.jsx("h1",{children:"So,Who am I ? "}),e.jsx("h3",{className:k.aboutSubTitle,children:"Software Developer with a solid foundation in React.js, Next.js, and Flutter. Eager to apply my knowledge and innovative mindset to develop impactful web and mobile applications. Seeking an entry-level position where I can contribute to a dynamic team while continuing to grow my skills and knowledge in software development."}),e.jsx(Ne,{className:k.contactButton,children:e.jsx("a",{href:"http://mailto:abdo09adham@gmail.com",children:"Contact Me"})}),e.jsx(M,{className:"ms-2",onClick:s,children:e.jsx(ye,{color:`${t?"primary":void 0}`})})]}),e.jsx(we,{src:$t,className:k.cardImage})]})]})})}function Bt(){const{user:t}=a.useContext(b);return t?e.jsxs(e.Fragment,{children:[e.jsx(I,{children:e.jsx("title",{children:"About"})}),e.jsx(S,{}),e.jsx(Rt,{})]}):e.jsx(v,{to:"/login"})}const qt="_heading_172dw_1",Dt="_itemNumber_172dw_15",Ot="_totalPrice_172dw_31",zt="_clearButton_172dw_113",Ft="_itemTitle_172dw_131",Mt="_Grid_172dw_141",Ut="_CartPage_172dw_153",Qt="_cart_172dw_167",Gt="_priceSpan_172dw_219",j={heading:qt,itemNumber:Dt,totalPrice:Ot,clearButton:zt,itemTitle:Ft,Grid:Mt,CartPage:Ut,cart:Qt,priceSpan:Gt},Ht=()=>{const{cartItems:t,removeFromCart:s,updateQuantity:n,clearCart:r}=a.useContext(B),{darkMode:o}=a.useContext(_);a.useEffect(()=>{o?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[o]);let c=t.reduce((l,d)=>l+d.quantity*d.price,0),i=c-c*10/100;return e.jsxs("div",{className:j.Grid,children:[e.jsx("h2",{className:j.heading,children:"Shopping Bag"}),e.jsxs("p",{className:j.itemNumber,children:[e.jsx("span",{children:t.length})," items in Your Bag"]}),e.jsx("p",{className:j.totalPrice,children:e.jsxs("ul",{children:[e.jsxs("li",{children:["TotalPrice: $ ",c]}),e.jsx("li",{children:"Discount: 10 %"}),e.jsxs("li",{children:["Price After Discount: $ ",i.toFixed(2)]}),e.jsxs("li",{children:[e.jsx("input",{type:"text",name:"code",id:"code",placeholder:"Enter Promo Code"}),e.jsx("button",{type:"button",children:"Apply"}),e.jsx("button",{type:"button",children:"Check-out"})]})]})}),e.jsx("div",{className:j.CartPage,children:e.jsx("div",{className:j.cart,children:t.length===0?e.jsx(e.Fragment,{children:e.jsx("p",{style:{fontFamily:"sans-serif",fontWeight:"bold"},children:"Your cart is empty."})}):e.jsx(Ce,{children:e.jsxs("ul",{children:[t.map(l=>e.jsxs(A.li,{exit:{opacity:1},layout:!0,children:[e.jsx(Pe,{children:e.jsx("img",{src:l.image,alt:"cartImage"})}),e.jsx("h3",{className:j.itemTitle,children:l.title}),e.jsx("button",{onClick:()=>n(l.id,l.quantity+1),children:"+"}),e.jsxs("span",{className:j.priceSpan,children:["$",l.price," x ",l.quantity]}),e.jsx("button",{onClick:()=>n(l.id,l.quantity-1),children:"-"}),e.jsx("button",{onClick:()=>s(l.id),children:"Remove"})]},l.id)),t.length>0&&e.jsx("button",{className:j.clearButton,onClick:r,children:"Clear Cart"})]})})})})]})};function Wt(){const{user:t}=a.useContext(b);return t===null?e.jsx(v,{to:"/login"}):e.jsxs(e.Fragment,{children:[e.jsx(I,{children:e.jsx("title",{children:"Shopping Cart"})}),e.jsx(S,{}),e.jsx(Ht,{})]})}function Yt({children:t}){const{user:s,isLoading:n}=a.useContext(b);return n?e.jsx(q,{}):s?t:(console.log("User not authenticated, redirecting to login"),e.jsx(v,{to:"/register"}))}const Kt="_pageContainer_1q5su_25",Vt="_form_1q5su_67",Jt="_from_1q5su_109",Zt="_register_1q5su_147",Xt="_validation_1q5su_177",E={pageContainer:Kt,form:Vt,from:Jt,register:Zt,validation:Xt};function $({title:t,body:s,onClose:n,onSuccess:r}){return e.jsx("div",{className:"modal show",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:t}),e.jsx("button",{type:"button",className:"btn-close",onClick:n,"aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:s})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Login"})]})]})})})}const es=()=>{var p,g;const t=P(),[s,n]=a.useState(null),[r,o]=a.useState(!1),[c,i]=a.useState(!1),{user:l}=a.useContext(b),{register:d,handleSubmit:h,formState:{errors:m}}=G();if(l!==null)return e.jsx(v,{to:"/"});const u=async y=>{i(!0);try{await He(y.email,y.password),t("/")}catch(D){n(D.message)}finally{i(!1)}};return e.jsxs("div",{className:E.pageContainer,children:[e.jsx("h1",{children:"Login"}),s&&e.jsx($,{title:"Error",body:s,onClose:()=>n(null)}),r&&e.jsx($,{title:"Error",body:s,onClose:()=>o(!1)}),e.jsxs("form",{className:E.form,onSubmit:h(u),children:[e.jsx("input",{...d("email",{required:"Invalid Email type",pattern:/^\S+@\S+$/i}),type:"email",placeholder:"Email"}),e.jsx("p",{className:E.validation,children:(p=m.email)==null?void 0:p.message}),e.jsx("input",{...d("password",{required:"Password is required",minLength:{value:6,message:"Password should be at least 6 characters"},maxLength:{value:20,message:"Password should not exceed 20 characters"}}),type:"password",placeholder:"Password"}),e.jsx("p",{className:E.validation,children:(g=m.password)==null?void 0:g.message}),e.jsx("button",{type:"submit",disabled:c,children:c?"Logging in...":"Login"})]}),e.jsxs("p",{className:E.register,children:["don't have an account ? ",e.jsx(x,{to:"/register",children:"Register"})]})]})},ts="_Container_zg6en_7",ss="_form_zg6en_49",ns="_from_zg6en_91",rs="_submitButton_zg6en_101",as="_loginText_zg6en_111",os="_errors_zg6en_131",C={Container:ts,form:ss,from:ns,submitButton:rs,loginText:as,errors:os},cs=()=>{var m,u,p;const[t,s]=a.useState(null),[n,r]=a.useState(!1),{user:o}=a.useContext(b),c=P(),{register:i,handleSubmit:l,formState:{errors:d}}=G();if(o!==null)return e.jsx(v,{to:"/"});const h=async g=>{try{await We(g.email,g.password),r(!0)}catch(y){s(y.message)}};return e.jsxs("div",{className:C.Container,children:[t&&e.jsx($,{title:"Error",body:t,onClose:()=>s(null)}),n&&e.jsx($,{title:"Successful",body:"Account created successfully",onClose:()=>r(!1),onSuccess:()=>c("/login")}),e.jsx("h1",{children:"Register"}),e.jsx("h3",{children:"Please fill in this form to create an account."}),e.jsxs("form",{className:C.form,onSubmit:l(h),children:[e.jsx("input",{type:"text",...i("username",{required:"The username length must be between 6 and 20"}),placeholder:"username"}),e.jsx("p",{className:C.errors,children:(m=d.username)==null?void 0:m.message}),e.jsx("input",{type:"email",...i("email",{required:"Invalid Email type",pattern:/^\S+@\S+$/i}),placeholder:"Email"}),e.jsx("p",{className:C.errors,children:(u=d.email)==null?void 0:u.message}),e.jsx("input",{type:"password",...i("password",{required:"The password length must be between 6 and 20",minLength:6,maxLength:20}),placeholder:"Password"}),e.jsx("p",{className:C.errors,children:(p=d.password)==null?void 0:p.message}),e.jsx("button",{className:C.submitButton,type:"submit",children:"Register"})]}),e.jsxs(x,{className:C.loginText,to:"/login",children:["You have an account? ",e.jsx("span",{children:"Login"})]})]})},is="_page_7zdw2_3",ls="_light_7zdw2_19",ds="_dark_7zdw2_27",us="_description_7zdw2_75",ms="_price_7zdw2_103",hs="_buttonContainer_7zdw2_157",ps="_backButton_7zdw2_191",w={page:is,light:ls,dark:ds,description:us,price:ms,buttonContainer:hs,backButton:ps};function gs(){const t=F(),s=ue(),n=P(),{darkMode:r}=a.useContext(_),o=new URL(t.image,window.location.origin).href,{user:c}=a.useContext(b);if(c===null)return e.jsx(v,{to:"/login"});if(s.state==="loading")return e.jsx("div",{children:"Loading..."});if(!t)return e.jsx("p",{children:"Sorry, this product is not available"});function i(){n("/checkout")}return e.jsxs("div",{className:w[r?"dark":"light"],children:[e.jsxs(I,{children:[e.jsx("title",{children:t.title}),e.jsx("meta",{name:"description",content:`${t.description}`}),e.jsx("meta",{property:"og:image",content:o})]}),e.jsx(S,{}),e.jsxs("div",{className:w.page,children:[e.jsx("h1",{children:t.title}),e.jsx("img",{src:t.image,alt:t.title}),e.jsx("p",{className:w.description,children:t.description}),e.jsxs("p",{className:w.price,children:["$",t.price]}),e.jsxs("div",{children:[e.jsxs("button",{className:w.backButton,children:[" ",e.jsx(x,{to:"/allProducts",children:"Back"})]}),e.jsx("button",{className:w.buttonContainer,onClick:i,children:"Proceed to Check-out"})]})]})]})}async function K({params:t}){const{productId:s}=t,n=await fetch(`https://fakestoreapi.com/products/${s}`);if(!n.ok)throw new Error("Couldn't fetch this product");return await n.json()}const xs=Object.freeze(Object.defineProperty({__proto__:null,default:gs,loader:K},Symbol.toStringTag,{value:"Module"})),fs="_checkForm_z92pe_1",js={checkForm:fs};function bs(){const t=re(),s=ae(),[n,r]=a.useState(""),[o,c]=a.useState(!1),[i,l]=a.useState(null);a.useEffect(()=>{(async()=>{const m=await fetch("http://localhost:4000/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:1e3})}),{clientSecret:u}=await m.json();l(u)})()},[]);const d=async h=>{if(h.preventDefault(),!t||!s||!i)return;c(!0);const{error:m}=await s.submit(),{error:u,paymentIntent:p}=await t.confirmPayment({elements:s,clientSecret:i,confirmParams:{return_url:"http://localhost:5173"}});if(u||m){r(u.message||m.message);return}else p.status==="succeeded"&&(c(!1),r("Payment Succeeded"),alert("Payment succeeded!"))};return e.jsxs("form",{className:js.checkForm,onSubmit:d,children:[e.jsx(oe,{}),e.jsxs("button",{type:"submit",disabled:!t||!i,children:["Pay ",o&&e.jsx(q,{})]}),e.jsx("p",{children:n})]})}const _s="_gridContainer_hq4wa_1",ys="_categoryItem_hq4wa_17",Cs="_title_hq4wa_41",z={gridContainer:_s,categoryItem:ys,title:Cs},vs="/E-Commerce-React/assets/background-Kv7yS_ic.jpg",Ss="/E-Commerce-React/assets/jewlery-D-LYwIGC.jpg",Ns="/E-Commerce-React/assets/men-BH3-9HSQ.jpg",ws="/E-Commerce-React/assets/women-DfBh4Qse.jpg";function Ps(){const t=P(),{darkMode:s}=a.useContext(_);a.useEffect(()=>{s?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[s]);let n=[{name:"electronics",image:vs},{name:"jewelery",image:Ss},{name:"men's clothing",image:Ns},{name:"women's clothing",image:ws}];return e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx("div",{className:z.gridContainer,children:n.map(r=>e.jsxs("div",{onClick:()=>t(`/categories/${r.name}`),className:z.categoryItem,children:[e.jsx("img",{src:r.image,alt:"image"}),e.jsx("p",{className:z.title,children:r.name})]},r.name))})]})}const ks="_gridContainer_1k7ci_7",Es={gridContainer:ks};function Is(){const t=F(),{darkMode:s}=a.useContext(_);return a.useEffect(()=>{s?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[s]),e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx("div",{className:Es.gridContainer,children:t.map(n=>e.jsx(Y,{id:n.id,title:n.title,price:n.price,image:n.image},n.id))})]})}async function Ls({params:t}){const{categoryId:s}=t,n=await fetch(`https://fakestoreapi.com/products/category/${s}`);if(!n.ok)throw new Error("Couldn't fetch this product");return await n.json()}const Ts=a.lazy(()=>Ae(()=>Promise.resolve().then(()=>xs),void 0)),As=me([{path:"/",element:e.jsx(Yt,{children:e.jsx(it,{})})},{path:"/login",element:e.jsx(es,{})},{path:"/register",element:e.jsx(cs,{})},{path:"/allProducts",element:e.jsx(Pt,{}),loader:kt},{path:"/allProducts/:productId",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(Ts,{})}),loader:K},{path:"/about",element:e.jsx(Bt,{})},{path:"/checkout",element:e.jsx(bs,{})},{path:"/categories",element:e.jsx(Ps,{})},{path:"/categories/:categoryId",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(Is,{})}),loader:Ls},{path:"/cart",element:e.jsx(Wt,{})},{path:"*",element:e.jsx(Nt,{})}],{basename:"/E-Commerce-React"});function V(){return e.jsxs(Re,{children:[e.jsxs(I,{children:[e.jsx("title",{children:"E-Commerce"}),e.jsx("meta",{name:"description",content:"this is E-Commerce Web made by Abdelhaleim Adham"})]}),e.jsx(ze,{children:e.jsx(Ue,{children:e.jsx(he,{router:As})})})]})}const $s=ce("pk_test_51Qk9SdQ4Eh1ZLwfgxtTvybP7G5AmsKX0elNNSPYnNVAsPRhQpyWj1t2ZmusUpeiB5fkPJvcwsL5HyUgn3A8B5Q7L00rEpCO5nA"),Rs=()=>{const[t,s]=a.useState("");return a.useEffect(()=>{(async()=>{const r=await fetch("http://localhost:4000/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:1e3})}),{clientSecret:o}=await r.json();s(o)})()},[]),t?e.jsx(ie,{stripe:$s,options:{clientSecret:t},children:e.jsx(V,{})}):e.jsx("div",{children:"Loading..."})};Z.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Ie,{children:e.jsx(Rs,{children:e.jsx(V,{})})})}));
