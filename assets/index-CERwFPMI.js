import{r as o,j as e,a as q}from"./react-6H6IyH5t.js";import{c as ee}from"./react-dom-DkvBuJIx.js";import"./firebase-JU3Ea-5a.js";import{i as te,g as se,s as ne,a as re,c as oe}from"./@firebase-DM_Pr6-R.js";import{u as ae,a as ce,P as ie,l as le,E as de}from"./@stripe-OcgNJqfu.js";import{u as y,L as x,a as U,b as ue,N as P,O as me,c as he,d as pe,R as ge}from"./react-router-CqTbLtqk.js";import{s as xe,B as fe,b as je,I as Q,S as be,a as _e,L as ye,R as Ce,G as ve,D as ke}from"./@mui-ByYTnB1f.js";import{m as D,A as Se}from"./motion-C20pEN1d.js";/* empty css                  */import{H as R}from"./react-helmet-DhEqDzks.js";import{C as Ne,a as G,R as Pe,B as we,b as Ie,c as Te}from"./react-bootstrap-DBJK_P5e.js";import{u as Y}from"./react-hook-form-BG98haSf.js";import{m as Ee}from"./framer-motion-DdNhSd8k.js";import"./scheduler-vn6Di64w.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";import"./prop-types-B1_D4cLJ.js";import"./cookie--_YQFYBD.js";import"./clsx-B-dksMZM.js";import"./@emotion-BEomb1RT.js";import"./hoist-non-react-statics-C48UpQYE.js";import"./react-is-CnyDuYXe.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-kJXI72l2.js";import"./react-side-effect-DCcXnng3.js";import"./react-fast-compare-D1sknIlV.js";import"./object-assign-Dd08XQkz.js";import"./classnames-DiwSn0L3.js";import"./@restart-DurwWGww.js";import"./motion-dom-C8PdgYBP.js";import"./motion-utils-DBsP9okC.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const Le={apiKey:"AIzaSyAfVZrfx39vOmqIi9Q2pT1E65eWMYyHSUQ",authDomain:"react-backend-6a385.firebaseapp.com",databaseURL:"https://react-backend-6a385-default-rtdb.firebaseio.com",projectId:"react-backend-6a385",storageBucket:"react-backend-6a385.firebasestorage.app",messagingSenderId:"295678082664",appId:"1:295678082664:web:bbdd584f03babca23985dd"},$e=te(Le),F=se($e),C=o.createContext(),Ae=({children:t})=>{const[s,n]=o.useState(null),[r,a]=o.useState(!0);return o.useEffect(()=>{const i=F.onAuthStateChanged(l=>{n(l),a(!1)});return()=>i()},[]),e.jsx(C.Provider,{value:{user:s,isLoading:r},children:t})},Re="modulepreload",Be=function(t){return"/E-Commerce-React/"+t},H={},qe=function(s,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(n.map(d=>{if(d=Be(d),d in H)return;H[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const u=document.createElement("link");if(u.rel=m?"stylesheet":Re,m||(u.as="script"),u.crossOrigin="",u.href=d,c&&u.setAttribute("nonce",c),document.head.appendChild(u),m)return new Promise((h,p)=>{u.addEventListener("load",h),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return s().catch(i)})},De="/E-Commerce-React/assets/react-CHdo91hT.svg",K=q.createContext({searchProduct:"",setSearchProducts:t=>{}}),V=()=>o.useContext(K);function Oe({children:t}){const[s,n]=o.useState("");return e.jsx(K.Provider,{value:{searchProduct:s,setSearchProducts:n},children:t})}const Fe="_form_si98z_1",Me="_input_si98z_11",ze="_button_si98z_29",M={form:Fe,input:Me,button:ze};function Ue(){const{searchProduct:t,setSearchProducts:s}=V(),n=y(),r=i=>{const l=i.target.value;s(l)};function a(){t.trim()!==""&&n(`/allProducts?search=${encodeURIComponent(t)}`)}return e.jsxs("form",{className:M.form,role:"search",onSubmit:i=>i.preventDefault(),children:[e.jsx("input",{className:M.input,type:"search",placeholder:"Search",value:t,onChange:r,"aria-label":"Search"}),e.jsx("button",{onClick:a,className:M.button,type:"button",children:"Search"})]})}const v=q.createContext({darkMode:!0,toggleTheme:()=>{}});function Qe({children:t}){const[s,n]=o.useState(!0);function r(){n(a=>!a)}return e.jsx(v.Provider,{value:{darkMode:s,toggleTheme:r},children:t})}const E=o.createContext(),Ge={cartItems:[]},He=(t,s)=>{switch(s.type){case"ADD_TO_CART":return t.cartItems.find(r=>r.id===s.payload.id)?{...t,cartItems:t.cartItems.map(r=>r.id===s.payload.id?{...r,quantity:r.quantity+1}:r)}:{...t,cartItems:[...t.cartItems,{...s.payload,quantity:1}]};case"REMOVE_FROM_CART":return{...t,cartItems:t.cartItems.filter(r=>r.id!==s.payload)};case"UPDATE_QUANTITY":return{...t,cartItems:t.cartItems.map(r=>r.id===s.payload.id?{...r,quantity:s.payload.quantity}:r)};case"CLEAR_CART":return{...t,cartItems:[]};default:return t}},We=({children:t})=>{const[s,n]=o.useReducer(He,Ge),r=c=>{n({type:"ADD_TO_CART",payload:c})},a=c=>{n({type:"REMOVE_FROM_CART",payload:c})},i=(c,d)=>{n({type:"UPDATE_QUANTITY",payload:{id:c,quantity:d}})},l=()=>{n({type:"CLEAR_CART"})};return e.jsx(E.Provider,{value:{cartItems:s.cartItems,addToCart:r,removeFromCart:a,updateQuantity:i,clearCart:l},children:t})},Ye=xe(fe)`
  & .${je.badge} {
    top: -12px;
    right: -6px;
  }
`;function Ke({numberOfItems:t}){return e.jsxs(Q,{children:[e.jsx(be,{color:"info",fontSize:"small"}),e.jsx(Ye,{badgeContent:t,color:"primary",overlap:"circular"})]})}async function Ve(t,s){try{await re(F,t,s)}catch(n){throw console.error("failed to login",n.message),n}}async function Je(t,s){try{await oe(F,t,s)}catch(n){throw console.error("failed to register",n.message),n}}async function Ze(){try{await ne(F)}catch(t){throw t}}function w(){const{darkMode:t,toggleTheme:s}=o.useContext(v),{cartItems:n}=o.useContext(E),r=t?"navbar navbar-expand-lg bg-dark border-bottom border-body":"navbar navbar-expand-lg bg-body-tertiary",a=t?"dark":"light";return e.jsx("nav",{className:r,"data-bs-theme":a,children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("img",{src:De,alt:"logo"}),e.jsx("a",{className:"navbar-brand m-1",href:"/",children:e.jsx("span",{className:`badge ${t?"text-light":"text-dark"} p-2`,children:"E-Commerce"})}),e.jsxs("div",{className:"collapse navbar-collapse mt-2",id:"navbarSupportedContent",children:[e.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[e.jsx("li",{className:"nav-item",children:e.jsx(x,{className:"nav-link active bg-blue","aria-current":"page",to:"/",children:"Home"})}),e.jsx("li",{className:"nav-item",children:e.jsx(x,{className:"nav-link",to:"/AllProducts",children:"Products"})}),e.jsx("li",{className:"nav-item",children:e.jsx(x,{className:"nav-link",to:"/categories",children:"Categories"})}),e.jsx("li",{className:"nav-item",children:e.jsx(x,{className:"nav-link",to:"/about",children:"about"})}),e.jsx(D.li,{className:"nav-item",children:e.jsx(x,{className:"nav-link",to:"/cart",children:e.jsx(Ke,{numberOfItems:n.length})})})]}),e.jsx(Ue,{}),e.jsxs("p",{style:{color:t?"white":"black",fontWeight:"bold",display:"flex",flexDirection:"row",position:"relative",marginLeft:"10px",top:"8px",right:"10px",alignItems:"center",justifyContent:"center"},children:[t?"Light":"Dark",e.jsx(_e,{onChange:s,checked:t,title:"Theme",value:t}),e.jsxs(Q,{onClick:Ze,children:[" ",e.jsx(ye,{color:"primary"})," "]})]})]})]})})}const Xe="_banner_1q04i_25",et="_dark_1q04i_35",tt="_light_1q04i_47",st="_container_1q04i_59",nt="_textCenter_1q04i_77",rt="_title_1q04i_89",ot="_titleLarge_1q04i_105",at="_paragraph_1q04i_113",ct="_buttonContainer_1q04i_125",it="_buttonPrimary_1q04i_147",lt="_buttonPrimaryDark_1q04i_183",dt="_buttonSecondary_1q04i_223",j={banner:Xe,dark:et,light:tt,container:st,textCenter:nt,title:rt,titleLarge:ot,paragraph:at,buttonContainer:ct,buttonPrimary:it,buttonPrimaryDark:lt,buttonSecondary:dt};function ut(){const{darkMode:t}=o.useContext(v),[s,n]=o.useState(!1);return o.useEffect(()=>{n(!!t)},[t]),e.jsx("section",{className:s?j.dark:j.light,children:e.jsx("div",{className:j.container,children:e.jsxs("div",{className:j.textCenter,children:[e.jsxs("h1",{className:`${j.title} ${j.titleLarge}`,children:["Browse All Products.",e.jsx("span",{className:"sm:block",children:" Try our new collection"})]}),e.jsx("p",{className:j.paragraph,children:"Our New Collection is here. Check out our new products and get 20% off on your first purchase. Hurry up! Limited time offer."}),e.jsx("div",{className:j.buttonContainer,children:e.jsx(x,{className:s?j.buttonPrimaryDark:j.buttonPrimary,to:"/allProducts",children:"Get Started"})})]})})})}function T(){return e.jsx("div",{className:"spinner-border text-dark position-absolute top-50 start-50",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}function mt(){const{user:t,isLoading:s}=o.useContext(C);return s?e.jsx(T,{}):t?e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsx(ut,{})]}):e.jsx(Navigate,{to:"/login"})}const ht="_card_8vuhd_1",pt="_cardImg_8vuhd_37",gt="_cardBody_8vuhd_57",xt="_cardTitle_8vuhd_73",ft="_cardPrice_8vuhd_85",jt="_cardDescription_8vuhd_111",bt="_cardButton_8vuhd_125",I={card:ht,cardImg:pt,cardBody:gt,cardTitle:xt,cardPrice:ft,cardDescription:jt,cardButton:bt};function _t(){const[t,s]=q.useState(1),[n,r]=q.useState(!1);return e.jsx(Ce,{style:{margin:"0.4rem"},name:"simple-controlled",value:t,disabled:n,onChange:(a,i)=>{s(i),r(!0)}})}const J=({image:t,title:s,price:n,id:r})=>{const{addToCart:a}=o.useContext(E),i=y();function l(d){d.stopPropagation(),console.log("Adding to cart:",r),a({image:t,title:s,price:n,id:r})}function c(){i(`/allProducts/${r}`)}return e.jsxs(D.div,{onClick:c,className:I.card,children:[e.jsx(D.img,{drag:!0,src:t,className:I.cardImg,alt:s}),e.jsxs("p",{className:I.cardPrice,children:["$",n]}),e.jsxs("div",{className:I.cardBody,children:[e.jsx("h5",{className:I.cardTitle,children:s}),e.jsx(_t,{}),e.jsx("button",{onClick:l,className:I.cardButton,children:"Add to Cart"})]})]})},yt="_dark_1fm75_7",Ct="_light_1fm75_17",vt="_paragraph_1fm75_25",kt={dark:yt,light:Ct,paragraph:vt},St="_container_zxxa7_5",Nt="_title_zxxa7_27",Pt="_message_zxxa7_39",wt="_homeLink_zxxa7_49",B={container:St,title:Nt,message:Pt,homeLink:wt};function It(){return e.jsxs("div",{className:B.container,children:[e.jsx("h1",{className:B.title,children:"404 - Not Found"}),e.jsx("p",{className:B.message,children:"Sorry, the page you are looking for does not exist."}),e.jsx(x,{to:"/",className:B.homeLink,children:"Go to Home"})]})}const Tt=({searchQuery:t})=>e.jsxs("div",{className:"product-not-found",children:[e.jsx("h2",{children:"Oops! No Products Found"}),e.jsx("p",{children:"We couldn't find any products matching."}),e.jsx("p",{children:"Please try a different search term or check out our other products."}),e.jsx("button",{children:e.jsx(x,{to:"/allProducts",children:" Browse All Products"})})]});function Et(){const{setSearchProducts:t}=V(),s=U(),n=ue(),[r,a]=o.useState(s),[i,l]=o.useState(!0),{darkMode:c}=o.useContext(v),{user:d,isLoading:m}=o.useContext(C),[g,u]=o.useState(!0);if(o.useEffect(()=>{if(d===null&&!m){u(!1);return}const _=new URLSearchParams(n.search).get("search")||"";if(t(_),s){l(!1);const k=s.filter(f=>f.title.toLowerCase().includes(_.toLowerCase()));a(k)}},[s,n.search,t]),!g)return e.jsx(P,{to:"/login"});if(i)return e.jsx(T,{});if(r.length===0)return e.jsx(Tt,{});const h=c?"dark":"light";return e.jsxs("div",{className:kt[h],children:[e.jsx(R,{children:e.jsx("title",{children:"All Products"})}),e.jsx(w,{}),e.jsxs("section",{children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"20px"},children:r.map(p=>e.jsx(J,{...p},p.id))}),e.jsx(me,{})]})]})}async function Lt(){const t=await fetch("https://fakestoreapi.com/products");if(!t.ok)throw Error("failed to fetch product");return await t.json()}const $t="_aboutContainer_1sybj_1",At="_cardImage_1sybj_9",Rt="_aboutTitle_1sybj_23",Bt="_aboutSubTitle_1sybj_39",qt="_contactButton_1sybj_47",$={aboutContainer:$t,cardImage:At,aboutTitle:Rt,aboutSubTitle:Bt,contactButton:qt},Dt="/E-Commerce-React/assets/abdo-D6_nfMGy.png";function Ot(){const{darkMode:t}=o.useContext(v);o.useEffect(()=>{t?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[t]);function s(){window.location.href="http://github.com/AbdelhaliemAdham"}return e.jsx(Ne,{className:$.aboutContainer,children:e.jsxs(G,{children:[e.jsx("h1",{className:$.aboutTitle,children:"About Me"}),e.jsxs(Pe,{children:[e.jsxs(G,{children:[e.jsx("h1",{children:"So,Who am I ? "}),e.jsx("h3",{className:$.aboutSubTitle,children:"Software Developer with a solid foundation in React.js, Next.js, and Flutter. Eager to apply my knowledge and innovative mindset to develop impactful web and mobile applications. Seeking an entry-level position where I can contribute to a dynamic team while continuing to grow my skills and knowledge in software development."}),e.jsx(we,{className:$.contactButton,children:e.jsx("a",{href:"http://mailto:abdo09adham@gmail.com",children:"Contact Me"})}),e.jsx(Q,{className:"ms-2",onClick:s,children:e.jsx(ve,{color:`${t?"primary":void 0}`})})]}),e.jsx(Ie,{src:Dt,className:$.cardImage})]})]})})}function Ft(){const{user:t}=o.useContext(C);return t?e.jsxs(e.Fragment,{children:[e.jsx(R,{children:e.jsx("title",{children:"About"})}),e.jsx(w,{}),e.jsx(Ot,{})]}):e.jsx(P,{to:"/login"})}const Mt="_Grid_6lo16_3",zt="_heading_6lo16_23",Ut="_itemNumber_6lo16_39",Qt="_clearButton_6lo16_57",Gt="_itemTitle_6lo16_91",Ht="_CartPage_6lo16_105",Wt="_cart_6lo16_119",Yt="_priceSpan_6lo16_171",S={Grid:Mt,heading:zt,itemNumber:Ut,clearButton:Qt,itemTitle:Gt,CartPage:Ht,cart:Wt,priceSpan:Yt},Kt=()=>{const{cartItems:t,removeFromCart:s,updateQuantity:n,clearCart:r}=o.useContext(E),a=y(),{darkMode:i}=o.useContext(v);function l(){a("/checkout")}return o.useEffect(()=>{i?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[i]),t.reduce((c,d)=>c+d.quantity*d.price,0),e.jsxs("section",{children:[e.jsx("h2",{className:S.heading,children:"Shopping Bag"}),e.jsxs("p",{className:S.itemNumber,children:[e.jsx("span",{children:t.length})," items in Your Bag"]}),e.jsx("div",{className:S.Grid,children:e.jsx("div",{className:S.CartPage,children:e.jsx("div",{className:S.cart,children:t.length===0?e.jsx(e.Fragment,{children:e.jsx("p",{style:{fontFamily:"sans-serif",fontWeight:"bold"},children:"Your cart is empty."})}):e.jsx(Se,{children:e.jsxs("ul",{children:[t.map(c=>e.jsxs(D.li,{exit:{opacity:1},layout:!0,children:[e.jsx(Te,{children:e.jsx("img",{src:c.image,alt:"cartImage"})}),e.jsx("h3",{className:S.itemTitle,children:c.title}),e.jsx("button",{onClick:()=>n(c.id,c.quantity+1),children:"+"}),e.jsxs("span",{className:S.priceSpan,children:["$",c.price," x ",c.quantity]}),e.jsx("button",{onClick:()=>n(c.id,c.quantity-1),children:"-"}),e.jsx("button",{onClick:()=>s(c.id),children:"Remove"})]},c.id)),t.length>0&&e.jsxs("div",{className:S.clearButton,children:[e.jsx("button",{onClick:r,children:"Clear Cart"}),e.jsx("button",{onClick:l,children:"Go To Checkout"})]})]})})})})})]})};function Vt(){const{user:t}=o.useContext(C);return t===null?e.jsx(P,{to:"/login"}):e.jsxs(e.Fragment,{children:[e.jsx(R,{children:e.jsx("title",{children:"Shopping Cart"})}),e.jsx(w,{}),e.jsx(Kt,{})]})}function Jt({children:t}){const{user:s,isLoading:n}=o.useContext(C);return n?e.jsx(T,{}):s?t:(console.log("User not authenticated, redirecting to login"),e.jsx(P,{to:"/register"}))}const Zt="_pageContainer_1q5su_25",Xt="_form_1q5su_67",es="_from_1q5su_109",ts="_register_1q5su_147",ss="_validation_1q5su_177",A={pageContainer:Zt,form:Xt,from:es,register:ts,validation:ss};function O({title:t,body:s,onClose:n,onSuccess:r}){return e.jsx("div",{className:"modal show",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:t}),e.jsx("button",{type:"button",className:"btn-close",onClick:n,"aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:s})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Login"})]})]})})})}const ns=()=>{var h,p;const t=y(),[s,n]=o.useState(null),[r,a]=o.useState(!1),[i,l]=o.useState(!1),{user:c}=o.useContext(C),{register:d,handleSubmit:m,formState:{errors:g}}=Y();if(c!==null)return e.jsx(P,{to:"/"});const u=async _=>{l(!0);try{await Ve(_.email,_.password),t("/")}catch(k){n(k.message)}finally{l(!1)}};return e.jsxs("div",{className:A.pageContainer,children:[e.jsx("h1",{children:"Login"}),s&&e.jsx(O,{title:"Error",body:s,onClose:()=>n(null)}),r&&e.jsx(O,{title:"Error",body:s,onClose:()=>a(!1)}),e.jsxs("form",{className:A.form,onSubmit:m(u),children:[e.jsx("input",{...d("email",{required:"Invalid Email type",pattern:/^\S+@\S+$/i}),type:"email",placeholder:"Email"}),e.jsx("p",{className:A.validation,children:(h=g.email)==null?void 0:h.message}),e.jsx("input",{...d("password",{required:"Password is required",minLength:{value:6,message:"Password should be at least 6 characters"},maxLength:{value:20,message:"Password should not exceed 20 characters"}}),type:"password",placeholder:"Password"}),e.jsx("p",{className:A.validation,children:(p=g.password)==null?void 0:p.message}),e.jsx("button",{type:"submit",disabled:i,children:i?"Logging in...":"Login"})]}),e.jsxs("p",{className:A.register,children:["don't have an account ? ",e.jsx(x,{to:"/register",children:"Register"})]})]})},rs="_Container_zg6en_7",os="_form_zg6en_49",as="_from_zg6en_91",cs="_submitButton_zg6en_101",is="_loginText_zg6en_111",ls="_errors_zg6en_131",N={Container:rs,form:os,from:as,submitButton:cs,loginText:is,errors:ls},ds=()=>{var g,u,h;const[t,s]=o.useState(null),[n,r]=o.useState(!1),{user:a}=o.useContext(C),i=y(),{register:l,handleSubmit:c,formState:{errors:d}}=Y();if(a!==null)return e.jsx(P,{to:"/"});const m=async p=>{try{await Je(p.email,p.password),r(!0)}catch(_){s(_.message)}};return e.jsxs("div",{className:N.Container,children:[t&&e.jsx(O,{title:"Error",body:t,onClose:()=>s(null)}),n&&e.jsx(O,{title:"Successful",body:"Account created successfully",onClose:()=>r(!1),onSuccess:()=>i("/login")}),e.jsx("h1",{children:"Register"}),e.jsx("h3",{children:"Please fill in this form to create an account."}),e.jsxs("form",{className:N.form,onSubmit:c(m),children:[e.jsx("input",{type:"text",...l("username",{required:"The username length must be between 6 and 20"}),placeholder:"username"}),e.jsx("p",{className:N.errors,children:(g=d.username)==null?void 0:g.message}),e.jsx("input",{type:"email",...l("email",{required:"Invalid Email type",pattern:/^\S+@\S+$/i}),placeholder:"Email"}),e.jsx("p",{className:N.errors,children:(u=d.email)==null?void 0:u.message}),e.jsx("input",{type:"password",...l("password",{required:"The password length must be between 6 and 20",minLength:6,maxLength:20}),placeholder:"Password"}),e.jsx("p",{className:N.errors,children:(h=d.password)==null?void 0:h.message}),e.jsx("button",{className:N.submitButton,type:"submit",children:"Register"})]}),e.jsxs(x,{className:N.loginText,to:"/login",children:["You have an account? ",e.jsx("span",{children:"Login"})]})]})},us="_page_kxkpe_1",ms="_light_kxkpe_21",hs="_dark_kxkpe_31",ps="_description_kxkpe_67",gs="_Card_kxkpe_99",xs="_InnerContainer_kxkpe_129",fs="_price_kxkpe_165",js="_title_kxkpe_253",bs="_buttonContainer_kxkpe_313",_s="_actionButtons_kxkpe_357",b={page:us,light:ms,dark:hs,description:ps,Card:gs,InnerContainer:xs,price:fs,title:js,buttonContainer:bs,actionButtons:_s};function ys(){const t=U(),s=he(),n=y(),{darkMode:r}=o.useContext(v),{cartItems:a,addToCart:i}=o.useContext(E),l=new URL(t.image,window.location.origin).href,{user:c}=o.useContext(C);if(c===null)return e.jsx(P,{to:"/login"});if(s.state==="loading")return e.jsx("div",{children:"Loading..."});if(!t)return e.jsx("p",{children:"Sorry, this product is not available"});function d(){i({...t}),n("/cart")}return e.jsxs("div",{className:b[r?"dark":"light"],children:[e.jsxs(R,{children:[e.jsx("title",{children:t.title}),e.jsx("meta",{name:"description",content:`${t.description}`}),e.jsx("meta",{property:"og:image",content:l})]}),e.jsx(w,{}),e.jsxs("div",{className:b.page,children:[e.jsxs("div",{className:b.Card,children:[e.jsx("h1",{className:b.title,children:t.title}),e.jsxs("p",{className:b.price,children:["$",t.price]}),e.jsxs("div",{className:b.InnerContainer,children:[e.jsx("img",{src:t.image,alt:t.title}),e.jsx("p",{className:b.description,children:t.description})]})]}),e.jsxs("div",{className:b.actionButtons,children:[e.jsxs("button",{className:b.backButton,children:[" ",e.jsx(x,{to:"/allProducts",children:"Back"})]}),e.jsx("button",{className:b.buttonContainer,onClick:d,children:"Add To Cart"})]})]})]})}async function Z({params:t}){const{productId:s}=t,n=await fetch(`https://fakestoreapi.com/products/${s}`);if(!n.ok)throw new Error("Couldn't fetch this product");return await n.json()}const Cs=Object.freeze(Object.defineProperty({__proto__:null,default:ys,loader:Z},Symbol.toStringTag,{value:"Module"})),vs="_checkForm_v9s3q_1",ks="_totalPrice_v9s3q_31",W={checkForm:vs,totalPrice:ks};function Ss(){const t=ae(),s=ce(),n=y(),[r,a]=o.useState(""),[i,l]=o.useState(!1),[c,d]=o.useState(null),{cartItems:m,clearCart:g}=o.useContext(E);let u=m.reduce((k,f)=>k+f.quantity*f.price,0),h=u-u*10/100;function p(){n("/cart")}o.useEffect(()=>{(async()=>{const f=await fetch("http://localhost:4000/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:h*1e3})}),{clientSecret:L}=await f.json();d(L)})()},[]);const _=async k=>{if(k.preventDefault(),!t||!s||!c||m.length===0)return;l(!0);const{error:f}=await s.submit(),{error:L}=await t.confirmPayment({elements:s,clientSecret:c,confirmParams:{return_url:`${window.location.origin}/E-Commerce-React/success`}});if(l(!1),L||f){a(L.message||f.message);return}!L&&f&&g()};return e.jsxs("section",{children:[e.jsxs("h1",{style:{textAlign:"center",margin:"1rem",fontFamily:"monospace"},children:["You have ",m.length," items in the Cart"]}),e.jsx("p",{className:W.totalPrice,children:e.jsxs("ul",{children:[e.jsxs("li",{children:["TotalPrice: $ ",u]}),e.jsx("li",{children:"Discount: 10 %"}),e.jsxs("li",{children:["Price After Discount: $ ",h.toFixed(2)]}),e.jsxs("li",{children:[e.jsx("input",{type:"text",name:"code",id:"code",placeholder:"Enter Promo Code"}),e.jsx("button",{type:"button",children:"Apply"})]})]})}),e.jsxs("form",{className:W.checkForm,onSubmit:_,children:[e.jsx(ie,{}),e.jsxs("div",{children:[e.jsx("button",{type:"submit",disabled:!t||!c,children:i?"Loading...":`Pay $ ${h}`}),e.jsx("button",{type:"button",onClick:p,children:"Back To Cart"})]}),e.jsx("p",{children:r})]}),i&&e.jsx(T,{})]})}const Ns="_gridContainer_hq4wa_1",Ps="_categoryItem_hq4wa_17",ws="_title_hq4wa_41",z={gridContainer:Ns,categoryItem:Ps,title:ws},Is="/E-Commerce-React/assets/background-Kv7yS_ic.jpg",Ts="/E-Commerce-React/assets/jewlery-D-LYwIGC.jpg",Es="/E-Commerce-React/assets/men-BH3-9HSQ.jpg",Ls="/E-Commerce-React/assets/women-DfBh4Qse.jpg";function $s(){const t=y(),{darkMode:s}=o.useContext(v);o.useEffect(()=>{s?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[s]);let n=[{name:"electronics",image:Is},{name:"jewelery",image:Ts},{name:"men's clothing",image:Es},{name:"women's clothing",image:Ls}];return e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsx("div",{className:z.gridContainer,children:n.map(r=>e.jsxs("div",{onClick:()=>t(`/categories/${r.name}`),className:z.categoryItem,children:[e.jsx("img",{src:r.image,alt:"image"}),e.jsx("p",{className:z.title,children:r.name})]},r.name))})]})}const As="_gridContainer_1k7ci_7",Rs={gridContainer:As};function Bs(){const t=U(),{darkMode:s}=o.useContext(v);return o.useEffect(()=>{s?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[s]),e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsx("div",{className:Rs.gridContainer,children:t.map(n=>e.jsx(J,{id:n.id,title:n.title,price:n.price,image:n.image},n.id))})]})}async function qs({params:t}){const{categoryId:s}=t,n=await fetch(`https://fakestoreapi.com/products/category/${s}`);if(!n.ok)throw new Error("Couldn't fetch this product");return await n.json()}function Ds(){const t=y();return o.useEffect(()=>{const s=setTimeout(()=>{t("/allProducts")},3e3);return()=>clearTimeout(s)},[]),e.jsxs("section",{style:{textAlign:"center",marginTop:"2rem"},children:[e.jsx("h1",{children:"Your Payment was Successful!"}),e.jsxs(Ee.div,{animate:{opacity:[0,1,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[e.jsx(ke,{style:{fontSize:"6rem",color:"green",marginTop:"2rem"}})," "]}),e.jsx("p",{children:"You will be directed soon to new page..."})]})}const Os=o.lazy(()=>qe(()=>Promise.resolve().then(()=>Cs),void 0)),Fs=pe([{path:"/",element:e.jsx(Jt,{children:e.jsx(mt,{})})},{path:"/login",element:e.jsx(ns,{})},{path:"/register",element:e.jsx(ds,{})},{path:"/allProducts",element:e.jsx(Et,{}),loader:Lt},{path:"/allProducts/:productId",element:e.jsx(o.Suspense,{fallback:e.jsx(T,{}),children:e.jsx(Os,{})}),loader:Z},{path:"/about",element:e.jsx(Ft,{})},{path:"/checkout",element:e.jsx(Ss,{})},{path:"/categories",element:e.jsx($s,{})},{path:"/categories/:categoryId",element:e.jsx(o.Suspense,{fallback:e.jsx(T,{}),children:e.jsx(Bs,{})}),loader:qs},{path:"/cart",element:e.jsx(Vt,{})},{path:"/success",element:e.jsx(Ds,{})},{path:"*",element:e.jsx(It,{})}],{basename:`${window.location.origin}/E-Commerce-React`});function X(){return e.jsxs(Oe,{children:[e.jsx(R,{children:e.jsx("title",{children:"E-Commerce"})}),e.jsx(Qe,{children:e.jsx(We,{children:e.jsx(ge,{router:Fs})})})]})}const Ms=le("pk_test_51Qk9SdQ4Eh1ZLwfgxtTvybP7G5AmsKX0elNNSPYnNVAsPRhQpyWj1t2ZmusUpeiB5fkPJvcwsL5HyUgn3A8B5Q7L00rEpCO5nA"),zs=()=>{const[t,s]=o.useState("");return o.useEffect(()=>{(async()=>{const r=await fetch("http://localhost:4000/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:1e3})}),{clientSecret:a}=await r.json();s(a)})()},[]),t?e.jsx(de,{stripe:Ms,options:{clientSecret:t},children:e.jsx(X,{})}):e.jsx("div",{children:"Loading..."})};ee.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(Ae,{children:e.jsx(zs,{children:e.jsx(X,{})})})}));
