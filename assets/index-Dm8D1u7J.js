import{r as o,j as e,a as D}from"./react-6H6IyH5t.js";import{c as se}from"./react-dom-DkvBuJIx.js";import"./firebase-JU3Ea-5a.js";import{i as ne,g as re,s as oe,a as ae,c as ce}from"./@firebase-DM_Pr6-R.js";import{u as ie,a as le,P as de,l as ue,E as me}from"./@stripe-OcgNJqfu.js";import{u as C,L as f,a as G,b as he,N as w,O as pe,c as xe,d as ge,e as fe,R as je,f as x}from"./react-router-DkxDlvHB.js";import{s as be,B as ye,b as _e,I as H,S as Ce,a as ve,L as ke,R as Se,G as Ne,D as Pe}from"./@mui-ByYTnB1f.js";import{m as O,A as we}from"./motion-C20pEN1d.js";/* empty css                  */import{H as R}from"./react-helmet-DhEqDzks.js";import{C as Ie,a as W,R as Ee,B as Te,b as Le,c as Ae}from"./react-bootstrap-DBJK_P5e.js";import{u as V}from"./react-hook-form-BG98haSf.js";import{m as $e}from"./framer-motion-DdNhSd8k.js";import"./scheduler-vn6Di64w.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";import"./prop-types-B1_D4cLJ.js";import"./cookie--_YQFYBD.js";import"./clsx-B-dksMZM.js";import"./@emotion-BEomb1RT.js";import"./hoist-non-react-statics-C48UpQYE.js";import"./react-is-CnyDuYXe.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-kJXI72l2.js";import"./react-side-effect-DCcXnng3.js";import"./react-fast-compare-D1sknIlV.js";import"./object-assign-Dd08XQkz.js";import"./classnames-DiwSn0L3.js";import"./@restart-DurwWGww.js";import"./motion-dom-C8PdgYBP.js";import"./motion-utils-DBsP9okC.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const Re={apiKey:"AIzaSyAfVZrfx39vOmqIi9Q2pT1E65eWMYyHSUQ",authDomain:"react-backend-6a385.firebaseapp.com",databaseURL:"https://react-backend-6a385-default-rtdb.firebaseio.com",projectId:"react-backend-6a385",storageBucket:"react-backend-6a385.firebasestorage.app",messagingSenderId:"295678082664",appId:"1:295678082664:web:bbdd584f03babca23985dd"},Be=ne(Re),M=re(Be),v=o.createContext(),qe=({children:t})=>{const[s,n]=o.useState(null),[r,a]=o.useState(!0);return o.useEffect(()=>{const i=M.onAuthStateChanged(l=>{n(l),a(!1)});return()=>i()},[]),e.jsx(v.Provider,{value:{user:s,isLoading:r},children:t})},De="modulepreload",Oe=function(t){return"/E-Commerce-React/"+t},Y={},Fe=function(s,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(n.map(d=>{if(d=Oe(d),d in Y)return;Y[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const u=document.createElement("link");if(u.rel=m?"stylesheet":De,m||(u.as="script"),u.crossOrigin="",u.href=d,c&&u.setAttribute("nonce",c),document.head.appendChild(u),m)return new Promise((p,h)=>{u.addEventListener("load",p),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return s().catch(i)})},Me="/E-Commerce-React/assets/react-CHdo91hT.svg",J=D.createContext({searchProduct:"",setSearchProducts:t=>{}}),Z=()=>o.useContext(J);function ze({children:t}){const[s,n]=o.useState("");return e.jsx(J.Provider,{value:{searchProduct:s,setSearchProducts:n},children:t})}const Ue="_form_si98z_1",Qe="_input_si98z_11",Ge="_button_si98z_29",U={form:Ue,input:Qe,button:Ge};function He(){const{searchProduct:t,setSearchProducts:s}=Z(),n=C(),r=i=>{const l=i.target.value;s(l)};function a(){t.trim()!==""&&n(`/allProducts?search=${encodeURIComponent(t)}`)}return e.jsxs("form",{className:U.form,role:"search",onSubmit:i=>i.preventDefault(),children:[e.jsx("input",{className:U.input,type:"search",placeholder:"Search",value:t,onChange:r,"aria-label":"Search"}),e.jsx("button",{onClick:a,className:U.button,type:"button",children:"Search"})]})}const y=D.createContext({darkMode:!0,toggleTheme:()=>{}});function We({children:t}){const[s,n]=o.useState(!0);function r(){n(a=>!a)}return e.jsx(y.Provider,{value:{darkMode:s,toggleTheme:r},children:t})}const T=o.createContext(),Ye={cartItems:[]},Ke=(t,s)=>{switch(s.type){case"ADD_TO_CART":return t.cartItems.find(r=>r.id===s.payload.id)?{...t,cartItems:t.cartItems.map(r=>r.id===s.payload.id?{...r,quantity:r.quantity+1}:r)}:{...t,cartItems:[...t.cartItems,{...s.payload,quantity:1}]};case"REMOVE_FROM_CART":return{...t,cartItems:t.cartItems.filter(r=>r.id!==s.payload)};case"UPDATE_QUANTITY":return{...t,cartItems:t.cartItems.map(r=>r.id===s.payload.id?{...r,quantity:s.payload.quantity}:r)};case"CLEAR_CART":return{...t,cartItems:[]};default:return t}},Ve=({children:t})=>{const[s,n]=o.useReducer(Ke,Ye),r=c=>{n({type:"ADD_TO_CART",payload:c})},a=c=>{n({type:"REMOVE_FROM_CART",payload:c})},i=(c,d)=>{n({type:"UPDATE_QUANTITY",payload:{id:c,quantity:d}})},l=()=>{n({type:"CLEAR_CART"})};return e.jsx(T.Provider,{value:{cartItems:s.cartItems,addToCart:r,removeFromCart:a,updateQuantity:i,clearCart:l},children:t})},Je=be(ye)`
  & .${_e.badge} {
    top: -12px;
    right: -6px;
  }
`;function Ze({numberOfItems:t}){return e.jsxs(H,{children:[e.jsx(Ce,{color:"info",fontSize:"small"}),e.jsx(Je,{badgeContent:t,color:"primary",overlap:"circular"})]})}async function Xe(t,s){try{await ae(M,t,s)}catch(n){throw console.error("failed to login",n.message),n}}async function et(t,s){try{await ce(M,t,s)}catch(n){throw console.error("failed to register",n.message),n}}async function tt(){try{await oe(M)}catch(t){throw t}}function S(){const{darkMode:t,toggleTheme:s}=o.useContext(y),{cartItems:n}=o.useContext(T),r=t?"navbar navbar-expand-lg bg-dark border-bottom border-body":"navbar navbar-expand-lg bg-body-tertiary",a=t?"dark":"light";return e.jsx("nav",{className:r,"data-bs-theme":a,children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("img",{src:Me,alt:"logo"}),e.jsx("a",{className:"navbar-brand m-1",href:"/",children:e.jsx("span",{className:`badge ${t?"text-light":"text-dark"} p-2`,children:"E-Commerce"})}),e.jsxs("div",{className:"collapse navbar-collapse mt-2",id:"navbarSupportedContent",children:[e.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[e.jsx("li",{className:"nav-item",children:e.jsx(f,{className:"nav-link active bg-blue","aria-current":"page",to:"/",children:"Home"})}),e.jsx("li",{className:"nav-item",children:e.jsx(f,{className:"nav-link",to:"/AllProducts",children:"Products"})}),e.jsx("li",{className:"nav-item",children:e.jsx(f,{className:"nav-link",to:"/categories",children:"Categories"})}),e.jsx("li",{className:"nav-item",children:e.jsx(f,{className:"nav-link",to:"/about",children:"about"})}),e.jsx(O.li,{className:"nav-item",children:e.jsx(f,{className:"nav-link",to:"/cart",children:e.jsx(Ze,{numberOfItems:n.length})})})]}),e.jsx(He,{}),e.jsxs("p",{style:{color:t?"white":"black",fontWeight:"bold",display:"flex",flexDirection:"row",position:"relative",marginLeft:"10px",top:"8px",right:"10px",alignItems:"center",justifyContent:"center"},children:[t?"Light":"Dark",e.jsx(ve,{onChange:s,checked:t,title:"Theme",value:t}),e.jsxs(H,{onClick:tt,children:[" ",e.jsx(ke,{color:"primary"})," "]})]})]})]})})}const st="_banner_1q04i_25",nt="_dark_1q04i_35",rt="_light_1q04i_47",ot="_container_1q04i_59",at="_textCenter_1q04i_77",ct="_title_1q04i_89",it="_titleLarge_1q04i_105",lt="_paragraph_1q04i_113",dt="_buttonContainer_1q04i_125",ut="_buttonPrimary_1q04i_147",mt="_buttonPrimaryDark_1q04i_183",ht="_buttonSecondary_1q04i_223",j={banner:st,dark:nt,light:rt,container:ot,textCenter:at,title:ct,titleLarge:it,paragraph:lt,buttonContainer:dt,buttonPrimary:ut,buttonPrimaryDark:mt,buttonSecondary:ht};function pt(){const{darkMode:t}=o.useContext(y),[s,n]=o.useState(!1);return o.useEffect(()=>{n(!!t)},[t]),e.jsx("section",{className:s?j.dark:j.light,children:e.jsx("div",{className:j.container,children:e.jsxs("div",{className:j.textCenter,children:[e.jsxs("h1",{className:`${j.title} ${j.titleLarge}`,children:["Browse All Products.",e.jsx("span",{className:"sm:block",children:" Try our new collection"})]}),e.jsx("p",{className:j.paragraph,children:"Our New Collection is here. Check out our new products and get 20% off on your first purchase. Hurry up! Limited time offer."}),e.jsx("div",{className:j.buttonContainer,children:e.jsx(f,{className:s?j.buttonPrimaryDark:j.buttonPrimary,to:"/allProducts",children:"Get Started"})})]})})})}function z(){return e.jsx("div",{className:"spinner-border text-dark position-absolute top-50 start-50",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}function xt(){const{user:t,isLoading:s}=o.useContext(v);return s?e.jsx(z,{}):t?e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx(pt,{})]}):e.jsx(Navigate,{to:"/login"})}const gt="_card_8vuhd_1",ft="_cardImg_8vuhd_37",jt="_cardBody_8vuhd_57",bt="_cardTitle_8vuhd_73",yt="_cardPrice_8vuhd_85",_t="_cardDescription_8vuhd_111",Ct="_cardButton_8vuhd_125",E={card:gt,cardImg:ft,cardBody:jt,cardTitle:bt,cardPrice:yt,cardDescription:_t,cardButton:Ct};function vt(){const[t,s]=D.useState(1),[n,r]=D.useState(!1);return e.jsx(Se,{style:{margin:"0.4rem"},name:"simple-controlled",value:t,disabled:n,onChange:(a,i)=>{s(i),r(!0)}})}const X=({image:t,title:s,price:n,id:r})=>{const{addToCart:a}=o.useContext(T),i=C();function l(d){d.stopPropagation(),console.log("Adding to cart:",r),a({image:t,title:s,price:n,id:r})}function c(){i(`/allProducts/${r}`)}return e.jsxs(O.div,{onClick:c,className:E.card,children:[e.jsx(O.img,{drag:!0,src:t,className:E.cardImg,alt:s}),e.jsxs("p",{className:E.cardPrice,children:["$",n]}),e.jsxs("div",{className:E.cardBody,children:[e.jsx("h5",{className:E.cardTitle,children:s}),e.jsx(vt,{}),e.jsx("button",{onClick:l,className:E.cardButton,children:"Add to Cart"})]})]})},kt="_dark_1fm75_7",St="_light_1fm75_17",Nt="_paragraph_1fm75_25",Pt={dark:kt,light:St,paragraph:Nt},wt="_container_zxxa7_5",It="_title_zxxa7_27",Et="_message_zxxa7_39",Tt="_homeLink_zxxa7_49",q={container:wt,title:It,message:Et,homeLink:Tt};function Lt(){return e.jsxs("div",{className:q.container,children:[e.jsx("h1",{className:q.title,children:"404 - Not Found"}),e.jsx("p",{className:q.message,children:"Sorry, the page you are looking for does not exist."}),e.jsx(f,{to:"/",className:q.homeLink,children:"Go to Home"})]})}const At=({searchQuery:t})=>e.jsxs("div",{className:"product-not-found",children:[e.jsx("h2",{children:"Oops! No Products Found"}),e.jsx("p",{children:"We couldn't find any products matching."}),e.jsx("p",{children:"Please try a different search term or check out our other products."}),e.jsx("button",{children:e.jsx(f,{to:"/allProducts",children:" Browse All Products"})})]});function $t(){const{setSearchProducts:t}=Z(),s=G(),n=he(),[r,a]=o.useState(s),[i,l]=o.useState(!0),{darkMode:c}=o.useContext(y),{user:d,isLoading:m}=o.useContext(v),[g,u]=o.useState(!0);if(o.useEffect(()=>{if(d===null&&!m){u(!1);return}const _=new URLSearchParams(n.search).get("search")||"";if(t(_),s){l(!1);const L=s.filter(I=>I.title.toLowerCase().includes(_.toLowerCase()));a(L)}},[s,n.search,t]),!g)return e.jsx(w,{to:"/login"});if(i)return e.jsx(z,{});if(r.length===0)return e.jsx(At,{});const p=c?"dark":"light";return e.jsxs("div",{className:Pt[p],children:[e.jsx(R,{children:e.jsx("title",{children:"All Products"})}),e.jsx(S,{}),e.jsxs("section",{children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"20px"},children:r.map(h=>e.jsx(X,{...h},h.id))}),e.jsx(pe,{})]})]})}async function Rt(){const t=await fetch("https://fakestoreapi.com/products");if(!t.ok)throw Error("failed to fetch product");return await t.json()}const Bt="_aboutContainer_1sybj_1",qt="_cardImage_1sybj_9",Dt="_aboutTitle_1sybj_23",Ot="_aboutSubTitle_1sybj_39",Ft="_contactButton_1sybj_47",A={aboutContainer:Bt,cardImage:qt,aboutTitle:Dt,aboutSubTitle:Ot,contactButton:Ft},Mt="/E-Commerce-React/assets/abdo-D6_nfMGy.png";function zt(){const{darkMode:t}=o.useContext(y);o.useEffect(()=>{t?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[t]);function s(){window.location.href="http://github.com/AbdelhaliemAdham"}return e.jsx(Ie,{className:A.aboutContainer,children:e.jsxs(W,{children:[e.jsx("h1",{className:A.aboutTitle,children:"About Me"}),e.jsxs(Ee,{children:[e.jsxs(W,{children:[e.jsx("h1",{children:"So,Who am I ? "}),e.jsx("h3",{className:A.aboutSubTitle,children:"Software Developer with a solid foundation in React.js, Next.js, and Flutter. Eager to apply my knowledge and innovative mindset to develop impactful web and mobile applications. Seeking an entry-level position where I can contribute to a dynamic team while continuing to grow my skills and knowledge in software development."}),e.jsx(Te,{className:A.contactButton,children:e.jsx("a",{href:"http://mailto:abdo09adham@gmail.com",children:"Contact Me"})}),e.jsx(H,{className:"ms-2",onClick:s,children:e.jsx(Ne,{color:`${t?"primary":void 0}`})})]}),e.jsx(Le,{src:Mt,className:A.cardImage})]})]})})}function Ut(){const{user:t}=o.useContext(v);return t?e.jsxs(e.Fragment,{children:[e.jsx(R,{children:e.jsx("title",{children:"About"})}),e.jsx(S,{}),e.jsx(zt,{})]}):e.jsx(w,{to:"/login"})}const Qt="_Grid_6lo16_3",Gt="_heading_6lo16_23",Ht="_itemNumber_6lo16_39",Wt="_clearButton_6lo16_57",Yt="_itemTitle_6lo16_91",Kt="_CartPage_6lo16_105",Vt="_cart_6lo16_119",Jt="_priceSpan_6lo16_171",k={Grid:Qt,heading:Gt,itemNumber:Ht,clearButton:Wt,itemTitle:Yt,CartPage:Kt,cart:Vt,priceSpan:Jt},Zt=()=>{const{cartItems:t,removeFromCart:s,updateQuantity:n,clearCart:r}=o.useContext(T),a=C(),{darkMode:i}=o.useContext(y);function l(){a("/checkout")}return o.useEffect(()=>{i?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[i]),t.reduce((c,d)=>c+d.quantity*d.price,0),e.jsxs("section",{children:[e.jsx("h2",{className:k.heading,children:"Shopping Bag"}),e.jsxs("p",{className:k.itemNumber,children:[e.jsx("span",{children:t.length})," items in Your Bag"]}),e.jsx("div",{className:k.Grid,children:e.jsx("div",{className:k.CartPage,children:e.jsx("div",{className:k.cart,children:t.length===0?e.jsx(e.Fragment,{children:e.jsx("p",{style:{fontFamily:"sans-serif",fontWeight:"bold"},children:"Your cart is empty."})}):e.jsx(we,{children:e.jsxs("ul",{children:[t.map(c=>e.jsxs(O.li,{exit:{opacity:1},layout:!0,children:[e.jsx(Ae,{children:e.jsx("img",{src:c.image,alt:"cartImage"})}),e.jsx("h3",{className:k.itemTitle,children:c.title}),e.jsx("button",{onClick:()=>n(c.id,c.quantity+1),children:"+"}),e.jsxs("span",{className:k.priceSpan,children:["$",c.price," x ",c.quantity]}),e.jsx("button",{onClick:()=>n(c.id,c.quantity-1),children:"-"}),e.jsx("button",{onClick:()=>s(c.id),children:"Remove"})]},c.id)),t.length>0&&e.jsxs("div",{className:k.clearButton,children:[e.jsx("button",{onClick:r,children:"Clear Cart"}),e.jsx("button",{onClick:l,children:"Go To Checkout"})]})]})})})})})]})};function Xt(){const{user:t}=o.useContext(v);return t===null?e.jsx(w,{to:"/login"}):e.jsxs(e.Fragment,{children:[e.jsx(R,{children:e.jsx("title",{children:"Shopping Cart"})}),e.jsx(S,{}),e.jsx(Zt,{})]})}function es({children:t}){const{user:s,isLoading:n}=o.useContext(v);return n?e.jsx(z,{}):s?t:(console.log("User not authenticated, redirecting to login"),e.jsx(w,{to:"/register"}))}const ts="_pageContainer_1q5su_25",ss="_form_1q5su_67",ns="_from_1q5su_109",rs="_register_1q5su_147",os="_validation_1q5su_177",$={pageContainer:ts,form:ss,from:ns,register:rs,validation:os};function F({title:t,body:s,onClose:n,onSuccess:r}){return e.jsx("div",{className:"modal show",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:t}),e.jsx("button",{type:"button",className:"btn-close",onClick:n,"aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:s})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Login"})]})]})})})}const as=()=>{var p,h;const t=C(),[s,n]=o.useState(null),[r,a]=o.useState(!1),[i,l]=o.useState(!1),{user:c}=o.useContext(v),{register:d,handleSubmit:m,formState:{errors:g}}=V();if(c!==null)return e.jsx(w,{to:"/"});const u=async _=>{l(!0);try{await Xe(_.email,_.password),t("/")}catch(L){n(L.message)}finally{l(!1)}};return e.jsxs("div",{className:$.pageContainer,children:[e.jsx("h1",{children:"Login"}),s&&e.jsx(F,{title:"Error",body:s,onClose:()=>n(null)}),r&&e.jsx(F,{title:"Error",body:s,onClose:()=>a(!1)}),e.jsxs("form",{className:$.form,onSubmit:m(u),children:[e.jsx("input",{...d("email",{required:"Invalid Email type",pattern:/^\S+@\S+$/i}),type:"email",placeholder:"Email"}),e.jsx("p",{className:$.validation,children:(p=g.email)==null?void 0:p.message}),e.jsx("input",{...d("password",{required:"Password is required",minLength:{value:6,message:"Password should be at least 6 characters"},maxLength:{value:20,message:"Password should not exceed 20 characters"}}),type:"password",placeholder:"Password"}),e.jsx("p",{className:$.validation,children:(h=g.password)==null?void 0:h.message}),e.jsx("button",{type:"submit",disabled:i,children:i?"Logging in...":"Login"})]}),e.jsxs("p",{className:$.register,children:["don't have an account ? ",e.jsx(f,{to:"/register",children:"Register"})]})]})},cs="_Container_zg6en_7",is="_form_zg6en_49",ls="_from_zg6en_91",ds="_submitButton_zg6en_101",us="_loginText_zg6en_111",ms="_errors_zg6en_131",P={Container:cs,form:is,from:ls,submitButton:ds,loginText:us,errors:ms},hs=()=>{var g,u,p;const[t,s]=o.useState(null),[n,r]=o.useState(!1),{user:a}=o.useContext(v),i=C(),{register:l,handleSubmit:c,formState:{errors:d}}=V();if(a!==null)return e.jsx(w,{to:"/"});const m=async h=>{try{await et(h.email,h.password),r(!0)}catch(_){s(_.message)}};return e.jsxs("div",{className:P.Container,children:[t&&e.jsx(F,{title:"Error",body:t,onClose:()=>s(null)}),n&&e.jsx(F,{title:"Successful",body:"Account created successfully",onClose:()=>r(!1),onSuccess:()=>i("/login")}),e.jsx("h1",{children:"Register"}),e.jsx("h3",{children:"Please fill in this form to create an account."}),e.jsxs("form",{className:P.form,onSubmit:c(m),children:[e.jsx("input",{type:"text",...l("username",{required:"The username length must be between 6 and 20"}),placeholder:"username"}),e.jsx("p",{className:P.errors,children:(g=d.username)==null?void 0:g.message}),e.jsx("input",{type:"email",...l("email",{required:"Invalid Email type",pattern:/^\S+@\S+$/i}),placeholder:"Email"}),e.jsx("p",{className:P.errors,children:(u=d.email)==null?void 0:u.message}),e.jsx("input",{type:"password",...l("password",{required:"The password length must be between 6 and 20",minLength:6,maxLength:20}),placeholder:"Password"}),e.jsx("p",{className:P.errors,children:(p=d.password)==null?void 0:p.message}),e.jsx("button",{className:P.submitButton,type:"submit",children:"Register"})]}),e.jsxs(f,{className:P.loginText,to:"/login",children:["You have an account? ",e.jsx("span",{children:"Login"})]})]})},ps="_page_kxkpe_1",xs="_light_kxkpe_21",gs="_dark_kxkpe_31",fs="_description_kxkpe_67",js="_Card_kxkpe_99",bs="_InnerContainer_kxkpe_129",ys="_price_kxkpe_165",_s="_title_kxkpe_253",Cs="_buttonContainer_kxkpe_313",vs="_actionButtons_kxkpe_357",b={page:ps,light:xs,dark:gs,description:fs,Card:js,InnerContainer:bs,price:ys,title:_s,buttonContainer:Cs,actionButtons:vs};function ks(){const t=G(),s=xe(),n=C(),{darkMode:r}=o.useContext(y),{cartItems:a,addToCart:i}=o.useContext(T),l=new URL(t.image,window.location.origin).href,{user:c}=o.useContext(v);if(c===null)return e.jsx(w,{to:"/login"});if(s.state==="loading")return e.jsx("div",{children:"Loading..."});if(!t)return e.jsx("p",{children:"Sorry, this product is not available"});function d(){i({...t}),n("/cart")}return e.jsxs("div",{className:b[r?"dark":"light"],children:[e.jsxs(R,{children:[e.jsx("title",{children:t.title}),e.jsx("meta",{name:"description",content:`${t.description}`}),e.jsx("meta",{property:"og:image",content:l})]}),e.jsx(S,{}),e.jsxs("div",{className:b.page,children:[e.jsxs("div",{className:b.Card,children:[e.jsx("h1",{className:b.title,children:t.title}),e.jsxs("p",{className:b.price,children:["$",t.price]}),e.jsxs("div",{className:b.InnerContainer,children:[e.jsx("img",{src:t.image,alt:t.title}),e.jsx("p",{className:b.description,children:t.description})]})]}),e.jsxs("div",{className:b.actionButtons,children:[e.jsxs("button",{className:b.backButton,children:[" ",e.jsx(f,{to:"/allProducts",children:"Back"})]}),e.jsx("button",{className:b.buttonContainer,onClick:d,children:"Add To Cart"})]})]})]})}async function ee({params:t}){const{productId:s}=t,n=await fetch(`https://fakestoreapi.com/products/${s}`);if(!n.ok)throw new Error("Couldn't fetch this product");return await n.json()}const Ss=Object.freeze(Object.defineProperty({__proto__:null,default:ks,loader:ee},Symbol.toStringTag,{value:"Module"})),Ns="_checkForm_v9s3q_1",Ps="_totalPrice_v9s3q_31",K={checkForm:Ns,totalPrice:Ps};function ws(){const t=ie(),s=le(),n=C(),[r,a]=o.useState(""),[i,l]=o.useState(!1),[c,d]=o.useState(null),{cartItems:m,clearCart:g}=o.useContext(T);let u=m.reduce((I,N)=>I+N.quantity*N.price,0),p=u-u*10/100;const{darkMode:h}=o.useContext(y);o.useEffect(()=>{h?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#000")},[h]);function _(){n("/cart")}o.useEffect(()=>{(async()=>{const N=await fetch("http://localhost:4000/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:p*1e3})}),{clientSecret:B}=await N.json();d(B)})()},[]);const L=async I=>{if(I.preventDefault(),!t||!s||!c||m.length===0){a("Something went wrong: Missing required information.");return}l(!0);const{error:N}=await s.submit(),{error:B}=await t.confirmPayment({elements:s,clientSecret:c,confirmParams:{return_url:`${window.location.origin}/E-Commerce-React/success`}});if(l(!1),N){a(N.message);return}if(B){a(B.message);return}g(),a("Payment successful!")};return e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsxs("section",{children:[e.jsxs("h1",{style:{textAlign:"center",margin:"1rem",fontFamily:"monospace"},children:["You have ",m.length," items in the Cart"]}),e.jsx("p",{className:K.totalPrice,children:e.jsxs("ul",{children:[e.jsxs("li",{children:["TotalPrice: $ ",u]}),e.jsx("li",{children:"Discount: 10 %"}),e.jsxs("li",{children:["Price After Discount: $ ",p.toFixed(2)]}),e.jsxs("li",{children:[e.jsx("input",{type:"text",name:"code",id:"code",placeholder:"Enter Promo Code"}),e.jsx("button",{type:"button",children:"Apply"})]})]})}),e.jsxs("form",{className:K.checkForm,onSubmit:L,children:[e.jsx(de,{}),e.jsxs("div",{children:[e.jsx("button",{type:"submit",disabled:!t||!c,children:i?"Loading...":`Pay $ ${p.toFixed(2)}`}),e.jsx("button",{type:"button",onClick:_,children:"Back To Cart"})]})]}),e.jsx("p",{style:{color:"red",textAlign:"center"},children:r}),i&&e.jsx(z,{})]})]})}const Is="_gridContainer_hq4wa_1",Es="_categoryItem_hq4wa_17",Ts="_title_hq4wa_41",Q={gridContainer:Is,categoryItem:Es,title:Ts},Ls="/E-Commerce-React/assets/background-Kv7yS_ic.jpg",As="/E-Commerce-React/assets/jewlery-D-LYwIGC.jpg",$s="/E-Commerce-React/assets/men-BH3-9HSQ.jpg",Rs="/E-Commerce-React/assets/women-DfBh4Qse.jpg";function Bs(){const t=C(),{darkMode:s}=o.useContext(y);o.useEffect(()=>{s?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[s]);let n=[{name:"electronics",image:Ls},{name:"jewelery",image:As},{name:"men's clothing",image:$s},{name:"women's clothing",image:Rs}];return e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx("div",{className:Q.gridContainer,children:n.map(r=>e.jsxs("div",{onClick:()=>t(`/categories/${r.name}`),className:Q.categoryItem,children:[e.jsx("img",{src:r.image,alt:"image"}),e.jsx("p",{className:Q.title,children:r.name})]},r.name))})]})}const qs="_gridContainer_1k7ci_7",Ds={gridContainer:qs};function Os(){const t=G(),{darkMode:s}=o.useContext(y);return o.useEffect(()=>{s?(document.body.style.backgroundColor="#212529",document.body.style.color="#fff"):(document.body.style.backgroundColor="#fff",document.body.style.color="#212529")},[s]),e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx("div",{className:Ds.gridContainer,children:t.map(n=>e.jsx(X,{id:n.id,title:n.title,price:n.price,image:n.image},n.id))})]})}async function Fs({params:t}){const{categoryId:s}=t,n=await fetch(`https://fakestoreapi.com/products/category/${s}`);if(!n.ok)throw new Error("Couldn't fetch this product");return await n.json()}function Ms(){const t=C();return o.useEffect(()=>{const s=setTimeout(()=>{t("/allProducts")},3e3);return()=>clearTimeout(s)},[]),e.jsxs("section",{style:{textAlign:"center",marginTop:"2rem"},children:[e.jsx("h1",{children:"Your Payment was Successful!"}),e.jsxs($e.div,{animate:{opacity:[0,1,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[e.jsx(Pe,{style:{fontSize:"6rem",color:"green",marginTop:"2rem"}})," "]}),e.jsx("p",{children:"You will be directed soon to new page..."})]})}const zs=o.lazy(()=>Fe(()=>Promise.resolve().then(()=>Ss),void 0)),Us=ge(fe(e.jsxs(x,{children:[e.jsx(x,{path:"/",element:e.jsx(es,{children:e.jsx(xt,{})})}),e.jsx(x,{path:"/login",element:e.jsx(as,{})}),e.jsx(x,{path:"/register",element:e.jsx(hs,{})}),e.jsx(x,{path:"/allProducts",element:e.jsx($t,{}),loader:Rt}),e.jsx(x,{path:"/allProducts/:productId",element:e.jsx(zs,{}),loader:ee}),e.jsx(x,{path:"/about",element:e.jsx(Ut,{})}),e.jsx(x,{path:"/checkout",element:e.jsx(ws,{})}),e.jsx(x,{path:"/categories",element:e.jsx(Bs,{})}),e.jsx(x,{path:"/categories/:categoryId",element:e.jsx(Os,{}),loader:Fs}),e.jsx(x,{path:"/cart",element:e.jsx(Xt,{})}),e.jsx(x,{path:"/success",element:e.jsx(Ms,{})}),e.jsx(x,{path:"*",element:e.jsx(Lt,{})})]})));function te(){return e.jsxs(ze,{children:[e.jsx(R,{children:e.jsx("title",{children:"E-Commerce"})}),e.jsx(We,{children:e.jsx(Ve,{children:e.jsx(je,{router:Us})})})]})}const Qs=ue("pk_test_51Qk9SdQ4Eh1ZLwfgxtTvybP7G5AmsKX0elNNSPYnNVAsPRhQpyWj1t2ZmusUpeiB5fkPJvcwsL5HyUgn3A8B5Q7L00rEpCO5nA"),Gs=()=>{const[t,s]=o.useState("");return o.useEffect(()=>{(async()=>{const r=await fetch("http://localhost:4000/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:1e3})}),{clientSecret:a}=await r.json();s(a)})()},[]),t?e.jsx(me,{stripe:Qs,options:{clientSecret:t},children:e.jsx(te,{})}):e.jsx("div",{children:"Loading..."})};se.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(qe,{children:e.jsx(Gs,{children:e.jsx(te,{})})})}));
